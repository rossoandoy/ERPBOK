# CLAUDE.md - AI Assistant Work Rules for ERP Knowledge RAG System

---
doc_type: "ai_work_rules"
complexity: "high"
purpose: "AI assistant work quality and consistency assurance"
business_value: "プロジェクト品質向上・作業効率最適化・ビジネス価値の維持"
target_audience: "Claude AI Assistant"
version: "1.0.0"
created_date: "2025-01-21"
status: "active"
---

## 🎯 プロジェクト目的・ビジネス価値の確認

### 必須確認事項
**全タスク開始前に以下を復唱・確認:**

```yaml
プロジェクト目的:
  主目的: ERP知識管理の効率化・自動化によるビジネス価値向上
  具体的価値: 
    - 知識検索時間90%削減
    - ナレッジワーカー生産性30%向上
    - 新入社員オンボーディング期間50%短縮
    - 組織知識の散逸防止・継承確保

技術的目標:
  - RAGシステムによる高精度知識検索
  - 多言語対応・自然言語理解
  - リアルタイム知識更新・同期
  - スケーラブル・高可用性アーキテクチャ

成果物の用途:
  Phase1: MVP基盤システム（基本検索・知識登録）
  Phase2: 高度RAG機能（意味検索・推奨機能）
  Phase3: AI統合機能（自動分類・分析ダッシュボード）
```

## 📋 作業開始時の必須チェックリスト

### タスク開始前確認
```yaml
□ プロジェクト目的・ビジネス価値の復唱完了
□ 現在フェーズ・成果物の用途確認完了
□ TodoWrite実行・タスク分解完了
□ 影響するドキュメント・依存関係確認完了
□ 品質基準・フェーズゲート要件確認完了
```

### 脱線防止ルール
```yaml
禁止事項:
  ❌ 目的不明なタスク着手
  ❌ ビジネス価値未確認の作業継続
  ❌ 成果物用途未明確のドキュメント作成
  ❌ 関連ドキュメント更新漏れ
  ❌ TodoList未使用での複数タスク実行

必須実施:
  ✅ 各タスクのビジネス価値明確化
  ✅ 成果物の具体的用途・活用方法確認
  ✅ フェーズ目標との整合性確認
  ✅ 関連ドキュメント同期更新
```

## 🔄 ドキュメント管理ルール

### 必須更新タイミング
```yaml
ドキュメント作成・更新時:
  □ 関連ドキュメントのリンク・参照更新
  □ フロントマターメタデータ完全設定
  □ 依存関係・前提条件明記
  □ 変更履歴・理由記録

フェーズ作業時:
  □ フェーズ進捗状況のREADME.md反映
  □ 完了成果物のdeliverables/フォルダ更新
  □ 次フェーズ準備状況の文書化
  □ アーカイブ・バージョン管理実施

品質確保:
  □ 内部整合性確認（フェーズ内ドキュメント間）
  □ 外部整合性確認（フェーズ間依存関係）
  □ リンク・参照動作確認
  □ 検索性・ナビゲーション確認
```

### フォーマット・品質基準
```yaml
必須要素:
  - フロントマター（doc_type, complexity, purpose, business_value）
  - 目的・スコープ明記
  - 具体的・実装可能な内容記述
  - 関連ドキュメントへのリンク

品質チェック:
  - 技術的正確性・実装可能性
  - ビジネス要件との整合性
  - フェーズ目標・成功基準との適合性
  - 将来保守性・拡張性考慮
```

## 🚀 フェーズ管理・プロジェクト進行ルール

### フェーズ作業時の必須確認
```yaml
Phase1 MVP (現在フェーズ):
  目的: 基本的なRAG検索システムの構築
  成果物: 文書登録・基本検索・ユーザー管理
  ビジネス価値: 手動検索から自動検索への移行基盤
  成功基準: 基本検索精度80%以上・応答時間2秒以内

Phase2 Enhancement (準備フェーズ):
  目的: 高度検索・RAG機能・認証システム
  成果物: 意味検索・推奨機能・権限管理
  ビジネス価値: 検索精度向上・ユーザーエクスペリエンス最適化

Phase3 Advanced (計画フェーズ):
  目的: AI機能強化・分析ダッシュボード
  成果物: 自動分類・利用分析・統合ダッシュボード
  ビジネス価値: 知識活用の可視化・継続改善基盤
```

### フェーズ移行時の必須作業
```yaml
フェーズ完了時:
  □ Phase完了チェックリスト100%確認
  □ 成果物deliverables/フォルダ完成
  □ 次フェーズ依存関係・引き継ぎ事項整理
  □ バージョンタグ付与・アーカイブ実施
  □ フェーズ完了報告書作成・承認取得

次フェーズ開始時:
  □ 前フェーズ成果物の確認・理解
  □ 新フェーズ目的・ビジネス価値復唱
  □ リソース・スキル要件確認
  □ リスク・制約事項把握
```

## 🤖 Context Engineering Rules

### プロンプト・タスク精度向上
```yaml
情報収集:
  - 既存ドキュメント・コードベース充分確認
  - 依存関係・制約事項事前把握
  - ベストプラクティス・パターン調査
  - 類似実装・設計例参考

タスク分解:
  - 大タスクは必ず小タスクに分解
  - 各小タスクの目的・成果物明確化
  - 実行順序・依存関係明確化
  - 完了基準・品質ゲート設定

継続学習:
  - 過去の判断・選択理由の文書化
  - 失敗・改善点の明記・次回活用
  - ベストプラクティス蓄積・共有
  - プロセス改善・効率化提案
```

### エラー処理・品質保証
```yaml
エラー・問題発生時:
  □ 問題の正確な特定・分析
  □ 影響範囲・深刻度評価
  □ 対処法複数案検討・最適解選択
  □ 根本原因分析・再発防止策

品質確保:
  □ 作業前の前提条件・制約確認
  □ 作業中の進捗・品質継続チェック
  □ 完了時の成果物品質検証
  □ 関係者・次工程への適切な引き継ぎ
```

## 📊 進捗管理・報告ルール

### TodoList活用
```yaml
必須使用タイミング:
  - 複数タスク・工程がある作業開始時
  - フェーズ・マイルストーン作業時
  - 関連ドキュメント更新が必要な作業時
  - 依存関係・順序性のある作業時

更新頻度:
  - タスク開始時: in_progress設定
  - タスク完了時: 即座にcompleted設定
  - 新規タスク発見時: 即座に追加
  - 不要タスク発見時: 即座に削除
```

### コミュニケーション
```yaml
進捗報告:
  - 明確・簡潔・具体的な状況説明
  - 完了成果物・残作業の明確化
  - 課題・リスク・支援要請事項
  - 次ステップ・計画・予定

提案・判断:
  - 複数選択肢・比較評価提示
  - ビジネス影響・技術的影響明記
  - 推奨理由・根拠・リスク説明
  - 実装・運用・保守の考慮
```

## 🔍 Code Quality & Implementation Rules

### TDD開発サイクル (t-wada方式)
```yaml
Red-Green-Refactor サイクル:
  Red (失敗するテスト):
    □ 仕様・要件を明確にするテスト作成
    □ 最小限の失敗するテストから開始
    □ テスト実行・失敗確認
    □ 仕様の曖昧性・設計問題の早期発見

  Green (テストを通すコード):
    □ テストを通すための最小限コード実装
    □ 品質よりもまずテストを通すことを優先
    □ 重複・汚いコードは許容（後でリファクタリング）
    □ 全テスト通過確認

  Refactor (品質向上):
    □ テストを壊さずにコード品質改善
    □ 重複排除・可読性向上
    □ 設計改善・パフォーマンス最適化
    □ 全テスト継続通過確認

テスト作成指針:
  □ テストファーストでの仕様明確化
  □ 単体テスト・統合テスト・E2Eテストの適切な配分
  □ テスタビリティを考慮した設計
  □ モック・スタブの適切な活用
```

### 実装作業時
```yaml
開発・実装前:
  □ TDDサイクル開始前の仕様・要件整理
  □ 既存テストコードベース・パターン確認
  □ テスト戦略・品質基準確認
  □ テスタビリティを考慮したアーキテクチャ設計

実装中:
  □ Red-Green-Refactorサイクル厳守
  □ テストファースト・仕様明確化
  □ セキュリティベストプラクティス適用
  □ 可読性・保守性・拡張性確保

実装後:
  □ テスト網羅性・品質確認
  □ リファクタリング・設計改善
  □ ドキュメント・コメント更新
  □ CI/CDパイプライン確認
```

## 🚨 Critical Success Factors

### 絶対遵守事項
```yaml
ビジネス価値優先:
  - 全作業のビジネス価値明確化
  - ROI・効果測定可能な成果物
  - ステークホルダー価値最大化
  - 長期運用・保守性確保

品質・信頼性:
  - セキュリティ・プライバシー保護
  - データ整合性・可用性確保
  - パフォーマンス・スケーラビリティ
  - 障害時復旧・継続性

継続改善:
  - プロセス・ツール・方法論改善
  - チーム学習・スキル向上支援
  - ベストプラクティス蓄積・共有
  - イノベーション・新技術活用
```

---

## 🎯 このルールの目的

**Context Engineering Based Rules:**
- 明確な目的・価値認識による作業品質向上
- 体系的タスク管理による効率性確保
- 継続的学習・改善による長期価値創出
- ステークホルダー価値最大化

**参考:** [Context Engineering for AI Agents - Manus](https://manus.im/blog/Context-Engineering-for-AI-Agents-Lessons-from-Building-Manus)

---

**Version**: 1.0.0 | **Last Updated**: 2025-01-21 | **Next Review**: Monthly Process Review